<!DOCTYPE html>

<html lang="ja-JP" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>try_run &mdash; CMake 3.1.3 Documentation</title>

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/cmake.css?v=d0fed63b" />
    
    <script src="../_static/documentation_options.js?v=bba30185"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="canonical" href="https://ltdorgtest.github.io/cmake-docs-l10n/command/try_run.html" />
    <link rel="icon" href="../_static/cmake-favicon.ico"/>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="検索" href="../search.html" />
    <link rel="next" title="unset" href="unset.html" />
    <link rel="prev" title="try_compile" href="try_compile.html" />
    <script type="text/javascript" src="../ltd-current.js"></script>
    <script type="text/javascript" src="../../../ltd-config.js"></script>
    <script type="text/javascript" src="../../../ltd-flyout.js"></script>
 

  </head><body>

    <div class="related" role="navigation" aria-label="Related">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総合索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="unset.html" title="unset"
             accesskey="N">次へ</a> |</li>
        <li class="right" >
          <a href="try_compile.html" title="try_compile"
             accesskey="P">前へ</a> |</li>
        <li>
          <img src="../_static/cmake-logo-16.png" alt=""
              style="vertical-align: middle; margin-top: -2px" />
        </li>
        <li>
          <a href="https://cmake.org/">CMake</a> &#187;
        </li>
        <li>
          <a href="../index.html">Documentation</a> &#187;
        </li>

          <li class="nav-item nav-item-1"><a href="../manual/cmake-commands.7.html" accesskey="U">cmake-commands(7)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">try_run</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="try-run">
<span id="command:try_run"></span><h1>try_run<a class="headerlink" href="#try-run" title="Link to this heading">¶</a></h1>
<p>Try compiling and then running some code.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">try_run</span><span class="p">(</span><span class="n">RUN_RESULT_VAR</span> <span class="n">COMPILE_RESULT_VAR</span>
        <span class="n">bindir</span> <span class="n">srcfile</span> <span class="p">[</span><span class="n">CMAKE_FLAGS</span> <span class="o">&lt;</span><span class="n">Flags</span><span class="o">&gt;</span><span class="p">]</span>
        <span class="p">[</span><span class="n">COMPILE_DEFINITIONS</span> <span class="o">&lt;</span><span class="n">flags</span><span class="o">&gt;</span><span class="p">]</span>
        <span class="p">[</span><span class="n">COMPILE_OUTPUT_VARIABLE</span> <span class="n">comp</span><span class="p">]</span>
        <span class="p">[</span><span class="n">RUN_OUTPUT_VARIABLE</span> <span class="n">run</span><span class="p">]</span>
        <span class="p">[</span><span class="n">OUTPUT_VARIABLE</span> <span class="n">var</span><span class="p">]</span>
        <span class="p">[</span><span class="n">ARGS</span> <span class="o">&lt;</span><span class="n">arg1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">arg2</span><span class="o">&gt;...</span><span class="p">])</span>
</pre></div>
</div>
<p>Try compiling a srcfile.  Return TRUE or FALSE for success or failure
in COMPILE_RESULT_VAR.  Then if the compile succeeded, run the
executable and return its exit code in RUN_RESULT_VAR.  If the
executable was built, but failed to run, then RUN_RESULT_VAR will be
set to FAILED_TO_RUN.  COMPILE_OUTPUT_VARIABLE specifies the variable
where the output from the compile step goes.  RUN_OUTPUT_VARIABLE
specifies the variable where the output from the running executable
goes.</p>
<p>For compatibility reasons OUTPUT_VARIABLE is still supported, which
gives you the output from the compile and run step combined.</p>
<p>Cross compiling issues</p>
<p>When cross compiling, the executable compiled in the first step
usually cannot be run on the build host.  try_run() checks the
CMAKE_CROSSCOMPILING variable to detect whether CMake is in
crosscompiling mode.  If that’s the case, it will still try to compile
the executable, but it will not try to run the executable.  Instead it
will create cache variables which must be filled by the user or by
presetting them in some CMake script file to the values the executable
would have produced if it had been run on its actual target platform.
These variables are RUN_RESULT_VAR (explanation see above) and if
RUN_OUTPUT_VARIABLE (or OUTPUT_VARIABLE) was used, an additional cache
variable RUN_RESULT_VAR__COMPILE_RESULT_VAR__TRYRUN_OUTPUT.This is
intended to hold stdout and stderr from the executable.</p>
<p>In order to make cross compiling your project easier, use try_run only
if really required.  If you use try_run, use RUN_OUTPUT_VARIABLE (or
OUTPUT_VARIABLE) only if really required.  Using them will require
that when crosscompiling, the cache variables will have to be set
manually to the output of the executable.  You can also 「guard」 the
calls to try_run with if(CMAKE_CROSSCOMPILING) and provide an
easy-to-preset alternative for this case.</p>
<p>Set variable CMAKE_TRY_COMPILE_CONFIGURATION to choose a build
configuration.</p>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h4>前のトピックへ</h4>
    <p class="topless"><a href="try_compile.html"
                          title="前の章へ">try_compile</a></p>
  </div>
  <div>
    <h4>次のトピックへ</h4>
    <p class="topless"><a href="unset.html"
                          title="次の章へ">unset</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>このページ</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/command/try_run.rst.txt"
            rel="nofollow">ソースコードを表示</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">クイック検索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="検索" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総合索引"
             >索引</a></li>
        <li class="right" >
          <a href="unset.html" title="unset"
             >次へ</a> |</li>
        <li class="right" >
          <a href="try_compile.html" title="try_compile"
             >前へ</a> |</li>
        <li>
          <img src="../_static/cmake-logo-16.png" alt=""
              style="vertical-align: middle; margin-top: -2px" />
        </li>
        <li>
          <a href="https://cmake.org/">CMake</a> &#187;
        </li>
        <li>
          <a href="../index.html">Documentation</a> &#187;
        </li>

          <li class="nav-item nav-item-1"><a href="../manual/cmake-commands.7.html" >cmake-commands(7)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">try_run</a></li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
    &#169; 著作権 2000-2015 Kitware, Inc..
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    </div>
  </body>
</html>