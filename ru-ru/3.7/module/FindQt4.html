<!DOCTYPE html>

<html lang="ru-RU" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>FindQt4 &mdash; CMake 3.7.2 Documentation</title>

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/cmake.css?v=d0fed63b" />
    
    <script src="../_static/documentation_options.js?v=a9478f00"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="canonical" href="https://ltdorgtest.github.io/cmake-docs-l10n/module/FindQt4.html" />
    <link rel="icon" href="../_static/cmake-favicon.ico"/>
    <link rel="index" title="Алфавитный указатель" href="../genindex.html" />
    <link rel="search" title="Поиск" href="../search.html" />
    <link rel="next" title="FindQt" href="FindQt.html" />
    <link rel="prev" title="FindQt3" href="FindQt3.html" />
    <script type="text/javascript" src="../ltd-current.js"></script>
    <script type="text/javascript" src="../../../ltd-config.js"></script>
    <script type="text/javascript" src="../../../ltd-flyout.js"></script>
 

  </head><body>

    <div class="related" role="navigation" aria-label="Related">
      <h3>Навигация</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Алфавитный указатель"
             accesskey="I">указатель</a></li>
        <li class="right" >
          <a href="FindQt.html" title="FindQt"
             accesskey="N">вперёд</a> |</li>
        <li class="right" >
          <a href="FindQt3.html" title="FindQt3"
             accesskey="P">назад</a> |</li>
        <li>
          <img src="../_static/cmake-logo-16.png" alt=""
              style="vertical-align: middle; margin-top: -2px" />
        </li>
        <li>
          <a href="https://cmake.org/">CMake</a> &#187;
        </li>
        <li>
          <a href="../index.html">Documentation</a> &#187;
        </li>

          <li class="nav-item nav-item-1"><a href="../manual/cmake-modules.7.html" accesskey="U">cmake-modules(7)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">FindQt4</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="findqt4">
<span id="module:FindQt4"></span><h1>FindQt4<a class="headerlink" href="#findqt4" title="Ссылка на этот заголовок">¶</a></h1>
<section id="finding-and-using-qt4">
<h2>Finding and Using Qt4<a class="headerlink" href="#finding-and-using-qt4" title="Ссылка на этот заголовок">¶</a></h2>
<p>This module can be used to find Qt4.  The most important issue is that
the Qt4 qmake is available via the system path.  This qmake is then
used to detect basically everything else.  This module defines a
number of <span class="target" id="index-0-prop_tgt:IMPORTED"></span><a class="reference internal" href="../prop_tgt/IMPORTED.html#prop_tgt:IMPORTED" title="IMPORTED"><code class="xref cmake cmake-prop_tgt docutils literal notranslate"><span class="pre">IMPORTED</span></code></a> targets, macros and variables.</p>
<p>Typical usage could be something like:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nf">set(</span><span class="no">CMAKE_AUTOMOC</span><span class="w"> </span><span class="no">ON</span><span class="nf">)</span>
<span class="nf">set(</span><span class="no">CMAKE_INCLUDE_CURRENT_DIR</span><span class="w"> </span><span class="no">ON</span><span class="nf">)</span>
<span class="nf">find_package(</span><span class="nb">Qt4</span><span class="w"> </span><span class="m">4.4.3</span><span class="w"> </span><span class="no">REQUIRED</span><span class="w"> </span><span class="nb">QtGui</span><span class="w"> </span><span class="nb">QtXml</span><span class="nf">)</span>
<span class="nf">add_executable(</span><span class="nb">myexe</span><span class="w"> </span><span class="nb">main.cpp</span><span class="nf">)</span>
<span class="nf">target_link_libraries(</span><span class="nb">myexe</span><span class="w"> </span><span class="nb">Qt4</span><span class="o">::</span><span class="nb">QtGui</span><span class="w"> </span><span class="nb">Qt4</span><span class="o">::</span><span class="nb">QtXml</span><span class="nf">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Примечание</p>
<p>When using <span class="target" id="index-1-prop_tgt:IMPORTED"></span><a class="reference internal" href="../prop_tgt/IMPORTED.html#prop_tgt:IMPORTED" title="IMPORTED"><code class="xref cmake cmake-prop_tgt docutils literal notranslate"><span class="pre">IMPORTED</span></code></a> targets, the qtmain.lib static library is
automatically linked on Windows for <span class="target" id="index-0-prop_tgt:WIN32_EXECUTABLE"></span><a class="reference internal" href="../prop_tgt/WIN32_EXECUTABLE.html#prop_tgt:WIN32_EXECUTABLE" title="WIN32_EXECUTABLE"><code class="xref cmake cmake-prop_tgt docutils literal notranslate"><span class="pre">WIN32</span></code></a>
executables. To disable that globally, set the
<code class="docutils literal notranslate"><span class="pre">QT4_NO_LINK_QTMAIN</span></code> variable before finding Qt4. To disable that
for a particular executable, set the <code class="docutils literal notranslate"><span class="pre">QT4_NO_LINK_QTMAIN</span></code> target
property to <code class="docutils literal notranslate"><span class="pre">TRUE</span></code> on the executable.</p>
</div>
</section>
<section id="qt-build-tools">
<h2>Qt Build Tools<a class="headerlink" href="#qt-build-tools" title="Ссылка на этот заголовок">¶</a></h2>
<p>Qt relies on some bundled tools for code generation, such as <code class="docutils literal notranslate"><span class="pre">moc</span></code> for
meta-object code generation,``uic`` for widget layout and population,
and <code class="docutils literal notranslate"><span class="pre">rcc</span></code> for virtual filesystem content generation.  These tools may be
automatically invoked by <span class="target" id="index-0-manual:cmake(1)"></span><a class="reference internal" href="../manual/cmake.1.html#manual:cmake(1)" title="cmake(1)"><code class="xref cmake cmake-manual docutils literal notranslate"><span class="pre">cmake(1)</span></code></a> if the appropriate conditions
are met.  See <span class="target" id="index-0-manual:cmake-qt(7)"></span><a class="reference internal" href="../manual/cmake-qt.7.html#manual:cmake-qt(7)" title="cmake-qt(7)"><code class="xref cmake cmake-manual docutils literal notranslate"><span class="pre">cmake-qt(7)</span></code></a> for more.</p>
</section>
<section id="qt-macros">
<h2>Qt Macros<a class="headerlink" href="#qt-macros" title="Ссылка на этот заголовок">¶</a></h2>
<p>In some cases it can be necessary or useful to invoke the Qt build tools in a
more-manual way. Several macros are available to add targets for such uses.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">macro</span> <span class="n">QT4_WRAP_CPP</span><span class="p">(</span><span class="n">outfiles</span> <span class="n">inputfile</span> <span class="o">...</span> <span class="p">[</span><span class="n">TARGET</span> <span class="n">tgt</span><span class="p">]</span> <span class="n">OPTIONS</span> <span class="o">...</span><span class="p">)</span>
      <span class="n">create</span> <span class="n">moc</span> <span class="n">code</span> <span class="kn">from</span><span class="w"> </span><span class="nn">a</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">files</span> <span class="n">containing</span> <span class="n">Qt</span> <span class="k">class</span><span class="w"> </span><span class="nc">with</span>
      <span class="n">the</span> <span class="n">Q_OBJECT</span> <span class="n">declaration</span><span class="o">.</span>  <span class="n">Per</span><span class="o">-</span><span class="n">directory</span> <span class="n">preprocessor</span> <span class="n">definitions</span>
      <span class="n">are</span> <span class="n">also</span> <span class="n">added</span><span class="o">.</span>  <span class="n">If</span> <span class="n">the</span> <span class="o">&lt;</span><span class="n">tgt</span><span class="o">&gt;</span> <span class="ow">is</span> <span class="n">specified</span><span class="p">,</span> <span class="n">the</span>
      <span class="n">INTERFACE_INCLUDE_DIRECTORIES</span> <span class="ow">and</span> <span class="n">INTERFACE_COMPILE_DEFINITIONS</span> <span class="kn">from</span>
<span class="w">      </span><span class="nn">the</span> <span class="o">&lt;</span><span class="n">tgt</span><span class="o">&gt;</span> <span class="n">are</span> <span class="n">passed</span> <span class="n">to</span> <span class="n">moc</span><span class="o">.</span>  <span class="n">Options</span> <span class="n">may</span> <span class="n">be</span> <span class="n">given</span> <span class="n">to</span> <span class="n">moc</span><span class="p">,</span> <span class="n">such</span> <span class="k">as</span>
      <span class="n">those</span> <span class="n">found</span> <span class="n">when</span> <span class="n">executing</span> <span class="s2">&quot;moc -help&quot;</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">macro</span> <span class="n">QT4_WRAP_UI</span><span class="p">(</span><span class="n">outfiles</span> <span class="n">inputfile</span> <span class="o">...</span> <span class="n">OPTIONS</span> <span class="o">...</span><span class="p">)</span>
      <span class="n">create</span> <span class="n">code</span> <span class="kn">from</span><span class="w"> </span><span class="nn">a</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">Qt</span> <span class="n">designer</span> <span class="n">ui</span> <span class="n">files</span><span class="o">.</span>
      <span class="n">Options</span> <span class="n">may</span> <span class="n">be</span> <span class="n">given</span> <span class="n">to</span> <span class="n">uic</span><span class="p">,</span> <span class="n">such</span> <span class="k">as</span> <span class="n">those</span> <span class="n">found</span>
      <span class="n">when</span> <span class="n">executing</span> <span class="s2">&quot;uic -help&quot;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">macro</span> <span class="n">QT4_ADD_RESOURCES</span><span class="p">(</span><span class="n">outfiles</span> <span class="n">inputfile</span> <span class="o">...</span> <span class="n">OPTIONS</span> <span class="o">...</span><span class="p">)</span>
      <span class="n">create</span> <span class="n">code</span> <span class="kn">from</span><span class="w"> </span><span class="nn">a</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">Qt</span> <span class="n">resource</span> <span class="n">files</span><span class="o">.</span>
      <span class="n">Options</span> <span class="n">may</span> <span class="n">be</span> <span class="n">given</span> <span class="n">to</span> <span class="n">rcc</span><span class="p">,</span> <span class="n">such</span> <span class="k">as</span> <span class="n">those</span> <span class="n">found</span>
      <span class="n">when</span> <span class="n">executing</span> <span class="s2">&quot;rcc -help&quot;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">macro</span> <span class="n">QT4_GENERATE_MOC</span><span class="p">(</span><span class="n">inputfile</span> <span class="n">outputfile</span> <span class="p">[</span><span class="n">TARGET</span> <span class="n">tgt</span><span class="p">])</span>
      <span class="n">creates</span> <span class="n">a</span> <span class="n">rule</span> <span class="n">to</span> <span class="n">run</span> <span class="n">moc</span> <span class="n">on</span> <span class="n">infile</span> <span class="ow">and</span> <span class="n">create</span> <span class="n">outfile</span><span class="o">.</span>
      <span class="n">Use</span> <span class="n">this</span> <span class="k">if</span> <span class="k">for</span> <span class="n">some</span> <span class="n">reason</span> <span class="n">QT4_WRAP_CPP</span><span class="p">()</span> <span class="n">isn</span><span class="s1">&#39;t appropriate, e.g.</span>
      <span class="n">because</span> <span class="n">you</span> <span class="n">need</span> <span class="n">a</span> <span class="n">custom</span> <span class="n">filename</span> <span class="k">for</span> <span class="n">the</span> <span class="n">moc</span> <span class="n">file</span> <span class="ow">or</span> <span class="n">something</span>
      <span class="n">similar</span><span class="o">.</span>  <span class="n">If</span> <span class="n">the</span> <span class="o">&lt;</span><span class="n">tgt</span><span class="o">&gt;</span> <span class="ow">is</span> <span class="n">specified</span><span class="p">,</span> <span class="n">the</span>
      <span class="n">INTERFACE_INCLUDE_DIRECTORIES</span> <span class="ow">and</span> <span class="n">INTERFACE_COMPILE_DEFINITIONS</span> <span class="kn">from</span>
<span class="w">      </span><span class="nn">the</span> <span class="o">&lt;</span><span class="n">tgt</span><span class="o">&gt;</span> <span class="n">are</span> <span class="n">passed</span> <span class="n">to</span> <span class="n">moc</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">macro</span> <span class="n">QT4_ADD_DBUS_INTERFACE</span><span class="p">(</span><span class="n">outfiles</span> <span class="n">interface</span> <span class="n">basename</span><span class="p">)</span>
      <span class="n">Create</span> <span class="n">the</span> <span class="n">interface</span> <span class="n">header</span> <span class="ow">and</span> <span class="n">implementation</span> <span class="n">files</span> <span class="k">with</span> <span class="n">the</span>
      <span class="n">given</span> <span class="n">basename</span> <span class="kn">from</span><span class="w"> </span><span class="nn">the</span> <span class="n">given</span> <span class="n">interface</span> <span class="n">xml</span> <span class="n">file</span> <span class="ow">and</span> <span class="n">add</span> <span class="n">it</span> <span class="n">to</span>
      <span class="n">the</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">sources</span><span class="o">.</span>

      <span class="n">You</span> <span class="n">can</span> <span class="k">pass</span> <span class="n">additional</span> <span class="n">parameters</span> <span class="n">to</span> <span class="n">the</span> <span class="n">qdbusxml2cpp</span> <span class="n">call</span> <span class="n">by</span> <span class="n">setting</span>
      <span class="n">properties</span> <span class="n">on</span> <span class="n">the</span> <span class="nb">input</span> <span class="n">file</span><span class="p">:</span>

      <span class="n">INCLUDE</span> <span class="n">the</span> <span class="n">given</span> <span class="n">file</span> <span class="n">will</span> <span class="n">be</span> <span class="n">included</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">generate</span> <span class="n">interface</span> <span class="n">header</span>

      <span class="n">CLASSNAME</span> <span class="n">the</span> <span class="n">generated</span> <span class="k">class</span><span class="w"> </span><span class="nc">is</span> <span class="n">named</span> <span class="n">accordingly</span>

      <span class="n">NO_NAMESPACE</span> <span class="n">the</span> <span class="n">generated</span> <span class="k">class</span><span class="w"> </span><span class="nc">is</span> <span class="ow">not</span> <span class="n">wrapped</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">namespace</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">macro</span> <span class="n">QT4_ADD_DBUS_INTERFACES</span><span class="p">(</span><span class="n">outfiles</span> <span class="n">inputfile</span> <span class="o">...</span> <span class="p">)</span>
      <span class="n">Create</span> <span class="n">the</span> <span class="n">interface</span> <span class="n">header</span> <span class="ow">and</span> <span class="n">implementation</span> <span class="n">files</span>
      <span class="k">for</span> <span class="nb">all</span> <span class="n">listed</span> <span class="n">interface</span> <span class="n">xml</span> <span class="n">files</span><span class="o">.</span>
      <span class="n">The</span> <span class="n">basename</span> <span class="n">will</span> <span class="n">be</span> <span class="n">automatically</span> <span class="n">determined</span> <span class="kn">from</span><span class="w"> </span><span class="nn">the</span> <span class="n">name</span>
      <span class="n">of</span> <span class="n">the</span> <span class="n">xml</span> <span class="n">file</span><span class="o">.</span>

      <span class="n">The</span> <span class="n">source</span> <span class="n">file</span> <span class="n">properties</span> <span class="n">described</span> <span class="k">for</span>
      <span class="n">QT4_ADD_DBUS_INTERFACE</span> <span class="n">also</span> <span class="n">apply</span> <span class="n">here</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">macro</span> <span class="n">QT4_ADD_DBUS_ADAPTOR</span><span class="p">(</span><span class="n">outfiles</span> <span class="n">xmlfile</span> <span class="n">parentheader</span> <span class="n">parentclassname</span>
                           <span class="p">[</span><span class="n">basename</span><span class="p">]</span> <span class="p">[</span><span class="n">classname</span><span class="p">])</span>
      <span class="n">create</span> <span class="n">a</span> <span class="n">dbus</span> <span class="n">adaptor</span> <span class="p">(</span><span class="n">header</span> <span class="ow">and</span> <span class="n">implementation</span> <span class="n">file</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">the</span> <span class="n">xml</span> <span class="n">file</span>
      <span class="n">describing</span> <span class="n">the</span> <span class="n">interface</span><span class="p">,</span> <span class="ow">and</span> <span class="n">add</span> <span class="n">it</span> <span class="n">to</span> <span class="n">the</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">sources</span><span class="o">.</span> <span class="n">The</span> <span class="n">adaptor</span>
      <span class="n">forwards</span> <span class="n">the</span> <span class="n">calls</span> <span class="n">to</span> <span class="n">a</span> <span class="n">parent</span> <span class="n">class</span><span class="p">,</span> <span class="n">defined</span> <span class="ow">in</span> <span class="n">parentheader</span> <span class="ow">and</span> <span class="n">named</span>
      <span class="n">parentclassname</span><span class="o">.</span> <span class="n">The</span> <span class="n">name</span> <span class="n">of</span> <span class="n">the</span> <span class="n">generated</span> <span class="n">files</span> <span class="n">will</span> <span class="n">be</span>
      <span class="o">&lt;</span><span class="n">basename</span><span class="o">&gt;</span><span class="n">adaptor</span><span class="o">.</span><span class="p">{</span><span class="n">cpp</span><span class="p">,</span><span class="n">h</span><span class="p">}</span> <span class="n">where</span> <span class="n">basename</span> <span class="n">defaults</span> <span class="n">to</span> <span class="n">the</span> <span class="n">basename</span> <span class="n">of</span> <span class="n">the</span>
      <span class="n">xml</span> <span class="n">file</span><span class="o">.</span>
      <span class="n">If</span> <span class="o">&lt;</span><span class="n">classname</span><span class="o">&gt;</span> <span class="ow">is</span> <span class="n">provided</span><span class="p">,</span> <span class="n">then</span> <span class="n">it</span> <span class="n">will</span> <span class="n">be</span> <span class="n">used</span> <span class="k">as</span> <span class="n">the</span> <span class="n">classname</span> <span class="n">of</span> <span class="n">the</span>
      <span class="n">adaptor</span> <span class="n">itself</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">macro</span> <span class="n">QT4_GENERATE_DBUS_INTERFACE</span><span class="p">(</span> <span class="n">header</span> <span class="p">[</span><span class="n">interfacename</span><span class="p">]</span> <span class="n">OPTIONS</span> <span class="o">...</span><span class="p">)</span>
      <span class="n">generate</span> <span class="n">the</span> <span class="n">xml</span> <span class="n">interface</span> <span class="n">file</span> <span class="kn">from</span><span class="w"> </span><span class="nn">the</span> <span class="n">given</span> <span class="n">header</span><span class="o">.</span>
      <span class="n">If</span> <span class="n">the</span> <span class="n">optional</span> <span class="n">argument</span> <span class="n">interfacename</span> <span class="ow">is</span> <span class="n">omitted</span><span class="p">,</span> <span class="n">the</span> <span class="n">name</span> <span class="n">of</span> <span class="n">the</span>
      <span class="n">interface</span> <span class="n">file</span> <span class="ow">is</span> <span class="n">constructed</span> <span class="kn">from</span><span class="w"> </span><span class="nn">the</span> <span class="n">basename</span> <span class="n">of</span> <span class="n">the</span> <span class="n">header</span> <span class="k">with</span>
      <span class="n">the</span> <span class="n">suffix</span> <span class="o">.</span><span class="n">xml</span> <span class="n">appended</span><span class="o">.</span>
      <span class="n">Options</span> <span class="n">may</span> <span class="n">be</span> <span class="n">given</span> <span class="n">to</span> <span class="n">qdbuscpp2xml</span><span class="p">,</span> <span class="n">such</span> <span class="k">as</span> <span class="n">those</span> <span class="n">found</span> <span class="n">when</span>
      <span class="n">executing</span> <span class="s2">&quot;qdbuscpp2xml --help&quot;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">macro</span> <span class="n">QT4_CREATE_TRANSLATION</span><span class="p">(</span> <span class="n">qm_files</span> <span class="n">directories</span> <span class="o">...</span> <span class="n">sources</span> <span class="o">...</span>
                              <span class="n">ts_files</span> <span class="o">...</span> <span class="n">OPTIONS</span> <span class="o">...</span><span class="p">)</span>
      <span class="n">out</span><span class="p">:</span> <span class="n">qm_files</span>
      <span class="ow">in</span><span class="p">:</span>  <span class="n">directories</span> <span class="n">sources</span> <span class="n">ts_files</span>
      <span class="n">options</span><span class="p">:</span> <span class="n">flags</span> <span class="n">to</span> <span class="k">pass</span> <span class="n">to</span> <span class="n">lupdate</span><span class="p">,</span> <span class="n">such</span> <span class="k">as</span> <span class="o">-</span><span class="n">extensions</span> <span class="n">to</span> <span class="n">specify</span>
      <span class="n">extensions</span> <span class="k">for</span> <span class="n">a</span> <span class="n">directory</span> <span class="n">scan</span><span class="o">.</span>
      <span class="n">generates</span> <span class="n">commands</span> <span class="n">to</span> <span class="n">create</span> <span class="o">.</span><span class="n">ts</span> <span class="p">(</span><span class="n">vie</span> <span class="n">lupdate</span><span class="p">)</span> <span class="ow">and</span> <span class="o">.</span><span class="n">qm</span>
      <span class="p">(</span><span class="n">via</span> <span class="n">lrelease</span><span class="p">)</span> <span class="o">-</span> <span class="n">files</span> <span class="kn">from</span><span class="w"> </span><span class="nn">directories</span> <span class="ow">and</span><span class="o">/</span><span class="ow">or</span> <span class="n">sources</span><span class="o">.</span> <span class="n">The</span> <span class="n">ts</span> <span class="n">files</span> <span class="n">are</span>
      <span class="n">created</span> <span class="ow">and</span><span class="o">/</span><span class="ow">or</span> <span class="n">updated</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">source</span> <span class="n">tree</span> <span class="p">(</span><span class="n">unless</span> <span class="n">given</span> <span class="k">with</span> <span class="n">full</span> <span class="n">paths</span><span class="p">)</span><span class="o">.</span>
      <span class="n">The</span> <span class="n">qm</span> <span class="n">files</span> <span class="n">are</span> <span class="n">generated</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">build</span> <span class="n">tree</span><span class="o">.</span>
      <span class="n">Updating</span> <span class="n">the</span> <span class="n">translations</span> <span class="n">can</span> <span class="n">be</span> <span class="n">done</span> <span class="n">by</span> <span class="n">adding</span> <span class="n">the</span> <span class="n">qm_files</span>
      <span class="n">to</span> <span class="n">the</span> <span class="n">source</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">your</span> <span class="n">library</span><span class="o">/</span><span class="n">executable</span><span class="p">,</span> <span class="n">so</span> <span class="n">they</span> <span class="n">are</span>
      <span class="n">always</span> <span class="n">updated</span><span class="p">,</span> <span class="ow">or</span> <span class="n">by</span> <span class="n">adding</span> <span class="n">a</span> <span class="n">custom</span> <span class="n">target</span> <span class="n">to</span> <span class="n">control</span> <span class="n">when</span>
      <span class="n">they</span> <span class="n">get</span> <span class="n">updated</span><span class="o">/</span><span class="n">generated</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">macro</span> <span class="n">QT4_ADD_TRANSLATION</span><span class="p">(</span> <span class="n">qm_files</span> <span class="n">ts_files</span> <span class="o">...</span> <span class="p">)</span>
      <span class="n">out</span><span class="p">:</span> <span class="n">qm_files</span>
      <span class="ow">in</span><span class="p">:</span>  <span class="n">ts_files</span>
      <span class="n">generates</span> <span class="n">commands</span> <span class="n">to</span> <span class="n">create</span> <span class="o">.</span><span class="n">qm</span> <span class="kn">from</span><span class="w"> </span><span class="nn">.ts</span> <span class="o">-</span> <span class="n">files</span><span class="o">.</span> <span class="n">The</span> <span class="n">generated</span>
      <span class="n">filenames</span> <span class="n">can</span> <span class="n">be</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">qm_files</span><span class="o">.</span> <span class="n">The</span> <span class="n">ts_files</span>
      <span class="n">must</span> <span class="n">exist</span> <span class="ow">and</span> <span class="n">are</span> <span class="ow">not</span> <span class="n">updated</span> <span class="ow">in</span> <span class="nb">any</span> <span class="n">way</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">macro</span> <span class="n">QT4_AUTOMOC</span><span class="p">(</span><span class="n">sourcefile1</span> <span class="n">sourcefile2</span> <span class="o">...</span> <span class="p">[</span><span class="n">TARGET</span> <span class="n">tgt</span><span class="p">])</span>
      <span class="n">The</span> <span class="n">qt4_automoc</span> <span class="n">macro</span> <span class="ow">is</span> <span class="n">obsolete</span><span class="o">.</span>  <span class="n">Use</span> <span class="n">the</span> <span class="n">CMAKE_AUTOMOC</span> <span class="n">feature</span> <span class="n">instead</span><span class="o">.</span>
      <span class="n">This</span> <span class="n">macro</span> <span class="ow">is</span> <span class="n">still</span> <span class="n">experimental</span><span class="o">.</span>
      <span class="n">It</span> <span class="n">can</span> <span class="n">be</span> <span class="n">used</span> <span class="n">to</span> <span class="n">have</span> <span class="n">moc</span> <span class="n">automatically</span> <span class="n">handled</span><span class="o">.</span>
      <span class="n">So</span> <span class="k">if</span> <span class="n">you</span> <span class="n">have</span> <span class="n">the</span> <span class="n">files</span> <span class="n">foo</span><span class="o">.</span><span class="n">h</span> <span class="ow">and</span> <span class="n">foo</span><span class="o">.</span><span class="n">cpp</span><span class="p">,</span> <span class="ow">and</span> <span class="ow">in</span> <span class="n">foo</span><span class="o">.</span><span class="n">h</span> <span class="n">a</span>
      <span class="n">a</span> <span class="k">class</span><span class="w"> </span><span class="nc">uses</span> <span class="n">the</span> <span class="n">Q_OBJECT</span> <span class="n">macro</span><span class="p">,</span> <span class="n">moc</span> <span class="n">has</span> <span class="n">to</span> <span class="n">run</span> <span class="n">on</span> <span class="n">it</span><span class="o">.</span> <span class="n">If</span> <span class="n">you</span> <span class="n">don</span><span class="s1">&#39;t</span>
      <span class="n">want</span> <span class="n">to</span> <span class="n">use</span> <span class="n">QT4_WRAP_CPP</span><span class="p">()</span> <span class="p">(</span><span class="n">which</span> <span class="ow">is</span> <span class="n">reliable</span> <span class="ow">and</span> <span class="n">mature</span><span class="p">),</span> <span class="n">you</span> <span class="n">can</span> <span class="n">insert</span>
      <span class="c1">#include &quot;foo.moc&quot;</span>
      <span class="ow">in</span> <span class="n">foo</span><span class="o">.</span><span class="n">cpp</span> <span class="ow">and</span> <span class="n">then</span> <span class="n">give</span> <span class="n">foo</span><span class="o">.</span><span class="n">cpp</span> <span class="k">as</span> <span class="n">argument</span> <span class="n">to</span> <span class="n">QT4_AUTOMOC</span><span class="p">()</span><span class="o">.</span> <span class="n">This</span> <span class="n">will</span>
      <span class="n">scan</span> <span class="nb">all</span> <span class="n">listed</span> <span class="n">files</span> <span class="n">at</span> <span class="n">cmake</span><span class="o">-</span><span class="n">time</span> <span class="k">for</span> <span class="n">such</span> <span class="n">included</span> <span class="n">moc</span> <span class="n">files</span> <span class="ow">and</span> <span class="k">if</span> <span class="n">it</span>
      <span class="n">finds</span> <span class="n">them</span> <span class="n">cause</span> <span class="n">a</span> <span class="n">rule</span> <span class="n">to</span> <span class="n">be</span> <span class="n">generated</span> <span class="n">to</span> <span class="n">run</span> <span class="n">moc</span> <span class="n">at</span> <span class="n">build</span> <span class="n">time</span> <span class="n">on</span> <span class="n">the</span>
      <span class="n">accompanying</span> <span class="n">header</span> <span class="n">file</span> <span class="n">foo</span><span class="o">.</span><span class="n">h</span><span class="o">.</span>
      <span class="n">If</span> <span class="n">a</span> <span class="n">source</span> <span class="n">file</span> <span class="n">has</span> <span class="n">the</span> <span class="n">SKIP_AUTOMOC</span> <span class="nb">property</span> <span class="nb">set</span> <span class="n">it</span> <span class="n">will</span> <span class="n">be</span> <span class="n">ignored</span> <span class="n">by</span>
      <span class="n">this</span> <span class="n">macro</span><span class="o">.</span>
      <span class="n">If</span> <span class="n">the</span> <span class="o">&lt;</span><span class="n">tgt</span><span class="o">&gt;</span> <span class="ow">is</span> <span class="n">specified</span><span class="p">,</span> <span class="n">the</span> <span class="n">INTERFACE_INCLUDE_DIRECTORIES</span> <span class="ow">and</span>
      <span class="n">INTERFACE_COMPILE_DEFINITIONS</span> <span class="kn">from</span><span class="w"> </span><span class="nn">the</span> <span class="o">&lt;</span><span class="n">tgt</span><span class="o">&gt;</span> <span class="n">are</span> <span class="n">passed</span> <span class="n">to</span> <span class="n">moc</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">QT4_USE_MODULES</span><span class="p">(</span> <span class="n">target</span> <span class="p">[</span><span class="n">link_type</span><span class="p">]</span> <span class="n">modules</span><span class="o">...</span><span class="p">)</span>
       <span class="n">This</span> <span class="n">function</span> <span class="ow">is</span> <span class="n">obsolete</span><span class="o">.</span> <span class="n">Use</span> <span class="n">target_link_libraries</span> <span class="k">with</span> <span class="n">IMPORTED</span> <span class="n">targets</span>
       <span class="n">instead</span><span class="o">.</span>
       <span class="n">Make</span> <span class="o">&lt;</span><span class="n">target</span><span class="o">&gt;</span> <span class="n">use</span> <span class="n">the</span> <span class="o">&lt;</span><span class="n">modules</span><span class="o">&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">Qt.</span> <span class="n">Using</span> <span class="n">a</span> <span class="n">Qt</span> <span class="n">module</span> <span class="n">means</span>
       <span class="n">to</span> <span class="n">link</span> <span class="n">to</span> <span class="n">the</span> <span class="n">library</span><span class="p">,</span> <span class="n">add</span> <span class="n">the</span> <span class="n">relevant</span> <span class="n">include</span> <span class="n">directories</span> <span class="k">for</span> <span class="n">the</span>
       <span class="n">module</span><span class="p">,</span> <span class="ow">and</span> <span class="n">add</span> <span class="n">the</span> <span class="n">relevant</span> <span class="n">compiler</span> <span class="n">defines</span> <span class="k">for</span> <span class="n">using</span> <span class="n">the</span> <span class="n">module</span><span class="o">.</span>
       <span class="n">Modules</span> <span class="n">are</span> <span class="n">roughly</span> <span class="n">equivalent</span> <span class="n">to</span> <span class="n">components</span> <span class="n">of</span> <span class="n">Qt4</span><span class="p">,</span> <span class="n">so</span> <span class="n">usage</span> <span class="n">would</span> <span class="n">be</span>
       <span class="n">something</span> <span class="n">like</span><span class="p">:</span>
        <span class="n">qt4_use_modules</span><span class="p">(</span><span class="n">myexe</span> <span class="n">Core</span> <span class="n">Gui</span> <span class="n">Declarative</span><span class="p">)</span>
       <span class="n">to</span> <span class="n">use</span> <span class="n">QtCore</span><span class="p">,</span> <span class="n">QtGui</span> <span class="ow">and</span> <span class="n">QtDeclarative</span><span class="o">.</span> <span class="n">The</span> <span class="n">optional</span> <span class="o">&lt;</span><span class="n">link_type</span><span class="o">&gt;</span> <span class="n">argument</span>
       <span class="n">can</span> <span class="n">be</span> <span class="n">specified</span> <span class="k">as</span> <span class="n">either</span> <span class="n">LINK_PUBLIC</span> <span class="ow">or</span> <span class="n">LINK_PRIVATE</span> <span class="n">to</span> <span class="n">specify</span> <span class="n">the</span>
       <span class="n">same</span> <span class="n">argument</span> <span class="n">to</span> <span class="n">the</span> <span class="n">target_link_libraries</span> <span class="n">call</span><span class="o">.</span>
</pre></div>
</div>
</section>
<section id="imported-targets">
<h2>IMPORTED Targets<a class="headerlink" href="#imported-targets" title="Ссылка на этот заголовок">¶</a></h2>
<p>A particular Qt library may be used by using the corresponding
<span class="target" id="index-2-prop_tgt:IMPORTED"></span><a class="reference internal" href="../prop_tgt/IMPORTED.html#prop_tgt:IMPORTED" title="IMPORTED"><code class="xref cmake cmake-prop_tgt docutils literal notranslate"><span class="pre">IMPORTED</span></code></a> target with the <span class="target" id="index-0-command:target_link_libraries"></span><a class="reference internal" href="../command/target_link_libraries.html#command:target_link_libraries" title="target_link_libraries"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">target_link_libraries()</span></code></a>
command:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nf">target_link_libraries(</span><span class="nb">myexe</span><span class="w"> </span><span class="nb">Qt4</span><span class="o">::</span><span class="nb">QtGui</span><span class="w"> </span><span class="nb">Qt4</span><span class="o">::</span><span class="nb">QtXml</span><span class="nf">)</span>
</pre></div>
</div>
<p>Using a target in this way causes :cmake(1)` to use the appropriate include
directories and compile definitions for the target when compiling <code class="docutils literal notranslate"><span class="pre">myexe</span></code>.</p>
<p>Targets are aware of their dependencies, so for example it is not necessary
to list <code class="docutils literal notranslate"><span class="pre">Qt4::QtCore</span></code> if another Qt library is listed, and it is not
necessary to list <code class="docutils literal notranslate"><span class="pre">Qt4::QtGui</span></code> if <code class="docutils literal notranslate"><span class="pre">Qt4::QtDeclarative</span></code> is listed.
Targets may be tested for existence in the usual way with the
<span class="target" id="index-0-command:if"></span><a class="reference internal" href="../command/if.html#command:if" title="if(target)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">if(TARGET)</span></code></a> command.</p>
<p>The Qt toolkit may contain both debug and release libraries.
<span class="target" id="index-1-manual:cmake(1)"></span><a class="reference internal" href="../manual/cmake.1.html#manual:cmake(1)" title="cmake(1)"><code class="xref cmake cmake-manual docutils literal notranslate"><span class="pre">cmake(1)</span></code></a> will choose the appropriate version based on the build
configuration.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">Qt4::QtCore</span></code></dt><dd><p>The QtCore target</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Qt4::QtGui</span></code></dt><dd><p>The QtGui target</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Qt4::Qt3Support</span></code></dt><dd><p>The Qt3Support target</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Qt4::QtAssistant</span></code></dt><dd><p>The QtAssistant target</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Qt4::QtAssistantClient</span></code></dt><dd><p>The QtAssistantClient target</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Qt4::QAxContainer</span></code></dt><dd><p>The QAxContainer target (Windows only)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Qt4::QAxServer</span></code></dt><dd><p>The QAxServer target (Windows only)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Qt4::QtDBus</span></code></dt><dd><p>The QtDBus target</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Qt4::QtDeclarative</span></code></dt><dd><p>The QtDeclarative target</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Qt4::QtDesigner</span></code></dt><dd><p>The QtDesigner target</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Qt4::QtDesignerComponents</span></code></dt><dd><p>The QtDesignerComponents target</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Qt4::QtHelp</span></code></dt><dd><p>The QtHelp target</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Qt4::QtMotif</span></code></dt><dd><p>The QtMotif target</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Qt4::QtMultimedia</span></code></dt><dd><p>The QtMultimedia target</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Qt4::QtNetwork</span></code></dt><dd><p>The QtNetwork target</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Qt4::QtNsPLugin</span></code></dt><dd><p>The QtNsPLugin target</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Qt4::QtOpenGL</span></code></dt><dd><p>The QtOpenGL target</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Qt4::QtScript</span></code></dt><dd><p>The QtScript target</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Qt4::QtScriptTools</span></code></dt><dd><p>The QtScriptTools target</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Qt4::QtSql</span></code></dt><dd><p>The QtSql target</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Qt4::QtSvg</span></code></dt><dd><p>The QtSvg target</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Qt4::QtTest</span></code></dt><dd><p>The QtTest target</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Qt4::QtUiTools</span></code></dt><dd><p>The QtUiTools target</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Qt4::QtWebKit</span></code></dt><dd><p>The QtWebKit target</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Qt4::QtXml</span></code></dt><dd><p>The QtXml target</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Qt4::QtXmlPatterns</span></code></dt><dd><p>The QtXmlPatterns target</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Qt4::phonon</span></code></dt><dd><p>The phonon target</p>
</dd>
</dl>
</section>
<section id="result-variables">
<h2>Result Variables<a class="headerlink" href="#result-variables" title="Ссылка на этот заголовок">¶</a></h2>
<blockquote>
<div><p>Below is a detailed list of variables that FindQt4.cmake sets.</p>
</div></blockquote>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">Qt4_FOUND</span></code></dt><dd><p>If false, don’t try to use Qt 4.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">QT_FOUND</span></code></dt><dd><p>If false, don’t try to use Qt. This variable is for compatibility only.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">QT4_FOUND</span></code></dt><dd><p>If false, don’t try to use Qt 4. This variable is for compatibility only.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">QT_VERSION_MAJOR</span></code></dt><dd><p>The major version of Qt found.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">QT_VERSION_MINOR</span></code></dt><dd><p>The minor version of Qt found.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">QT_VERSION_PATCH</span></code></dt><dd><p>The patch version of Qt found.</p>
</dd>
</dl>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Оглавление</a></h3>
    <ul>
<li><a class="reference internal" href="#">FindQt4</a><ul>
<li><a class="reference internal" href="#finding-and-using-qt4">Finding and Using Qt4</a></li>
<li><a class="reference internal" href="#qt-build-tools">Qt Build Tools</a></li>
<li><a class="reference internal" href="#qt-macros">Qt Macros</a></li>
<li><a class="reference internal" href="#imported-targets">IMPORTED Targets</a></li>
<li><a class="reference internal" href="#result-variables">Result Variables</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Предыдущий раздел</h4>
    <p class="topless"><a href="FindQt3.html"
                          title="предыдущая глава">FindQt3</a></p>
  </div>
  <div>
    <h4>Следующий раздел</h4>
    <p class="topless"><a href="FindQt.html"
                          title="следующая глава">FindQt</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Эта страница</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/module/FindQt4.rst.txt"
            rel="nofollow">Исходный текст</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Быстрый поиск</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Искать" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Навигация</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Алфавитный указатель"
             >указатель</a></li>
        <li class="right" >
          <a href="FindQt.html" title="FindQt"
             >вперёд</a> |</li>
        <li class="right" >
          <a href="FindQt3.html" title="FindQt3"
             >назад</a> |</li>
        <li>
          <img src="../_static/cmake-logo-16.png" alt=""
              style="vertical-align: middle; margin-top: -2px" />
        </li>
        <li>
          <a href="https://cmake.org/">CMake</a> &#187;
        </li>
        <li>
          <a href="../index.html">Documentation</a> &#187;
        </li>

          <li class="nav-item nav-item-1"><a href="../manual/cmake-modules.7.html" >cmake-modules(7)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">FindQt4</a></li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
    &#169; Авторские права 2000-2016 Kitware, Inc. and Contributors.
      Создано с использованием <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    </div>
  </body>
</html>