<!DOCTYPE html>

<html lang="zh-CN" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>CPackWIX &mdash; CMake 3.0.2 Documentation</title>

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/cmake.css?v=d0fed63b" />
    
    <script src="../_static/documentation_options.js?v=e81da863"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/translations.js?v=beaddf03"></script>
    
    <link rel="canonical" href="https://ltdorgtest.github.io/cmake-docs-l10n/module/CPackWIX.html" />
    <link rel="icon" href="../_static/cmake-favicon.ico"/>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="CTest" href="CTest.html" />
    <link rel="prev" title="CPack" href="CPack.html" />
    <script type="text/javascript" src="../ltd-current.js"></script>
    <script type="text/javascript" src="../../../ltd-config.js"></script>
    <script type="text/javascript" src="../../../ltd-flyout.js"></script>
 

  </head><body>

    <div class="related" role="navigation" aria-label="Related">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="总索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="CTest.html" title="CTest"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="CPack.html" title="CPack"
             accesskey="P">上一页</a> |</li>
        <li>
          <img src="../_static/cmake-logo-16.png" alt=""
              style="vertical-align: middle; margin-top: -2px" />
        </li>
        <li>
          <a href="https://cmake.org/">CMake</a> &#187;
        </li>
        <li>
          <a href="../index.html">Documentation</a> &#187;
        </li>

          <li class="nav-item nav-item-1"><a href="../manual/cmake-modules.7.html" accesskey="U">cmake-modules(7)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">CPackWIX</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="cpackwix">
<span id="module:CPackWIX"></span><h1>CPackWIX<a class="headerlink" href="#cpackwix" title="Link to this heading">¶</a></h1>
<p>CPack WiX generator specific options</p>
<section id="variables-specific-to-cpack-wix-generator">
<h2>Variables specific to CPack WiX generator<a class="headerlink" href="#variables-specific-to-cpack-wix-generator" title="Link to this heading">¶</a></h2>
<p>The following variables are specific to the installers built on
Windows using WiX.</p>
<dl class="cmake variable">
<dt class="sig sig-object cmake" id="variable:CPACK_WIX_UPGRADE_GUID">
<span class="sig-name descname"><span class="pre">CPACK_WIX_UPGRADE_GUID</span></span><a class="headerlink" href="#variable:CPACK_WIX_UPGRADE_GUID" title="Link to this definition">¶</a></dt>
<dd><p>Upgrade GUID (<code class="docutils literal notranslate"><span class="pre">Product/&#64;UpgradeCode</span></code>)</p>
<p>Will be automatically generated unless explicitly provided.</p>
<p>It should be explicitly set to a constant generated gloabally unique
identifier (GUID) to allow your installers to replace existing
installations that use the same GUID.</p>
<p>You may for example explicitly set this variable in your
CMakeLists.txt to the value that has been generated per default.  You
should not use GUIDs that you did not generate yourself or which may
belong to other projects.</p>
<p>A GUID shall have the following fixed length syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">XXXXXXXX</span><span class="o">-</span><span class="n">XXXX</span><span class="o">-</span><span class="n">XXXX</span><span class="o">-</span><span class="n">XXXX</span><span class="o">-</span><span class="n">XXXXXXXXXXXX</span>
</pre></div>
</div>
<p>(each X represents an uppercase hexadecimal digit)</p>
</dd></dl>

<dl class="cmake variable">
<dt class="sig sig-object cmake" id="variable:CPACK_WIX_PRODUCT_GUID">
<span class="sig-name descname"><span class="pre">CPACK_WIX_PRODUCT_GUID</span></span><a class="headerlink" href="#variable:CPACK_WIX_PRODUCT_GUID" title="Link to this definition">¶</a></dt>
<dd><p>Product GUID (<code class="docutils literal notranslate"><span class="pre">Product/&#64;Id</span></code>)</p>
<p>Will be automatically generated unless explicitly provided.</p>
<p>If explicitly provided this will set the Product Id of your installer.</p>
<p>The installer will abort if it detects a pre-existing installation that
uses the same GUID.</p>
<p>The GUID shall use the syntax described for CPACK_WIX_UPGRADE_GUID.</p>
</dd></dl>

<dl class="cmake variable">
<dt class="sig sig-object cmake" id="variable:CPACK_WIX_LICENSE_RTF">
<span class="sig-name descname"><span class="pre">CPACK_WIX_LICENSE_RTF</span></span><a class="headerlink" href="#variable:CPACK_WIX_LICENSE_RTF" title="Link to this definition">¶</a></dt>
<dd><p>RTF License File</p>
<p>If CPACK_RESOURCE_FILE_LICENSE has an .rtf extension it is used as-is.</p>
<p>If CPACK_RESOURCE_FILE_LICENSE has an .txt extension it is implicitly
converted to RTF by the WiX Generator.
The expected encoding of the .txt file is UTF-8.</p>
<p>With CPACK_WIX_LICENSE_RTF you can override the license file used by the
WiX Generator in case CPACK_RESOURCE_FILE_LICENSE is in an unsupported
format or the .txt -&gt; .rtf conversion does not work as expected.</p>
</dd></dl>

<dl class="cmake variable">
<dt class="sig sig-object cmake" id="variable:CPACK_WIX_PRODUCT_ICON">
<span class="sig-name descname"><span class="pre">CPACK_WIX_PRODUCT_ICON</span></span><a class="headerlink" href="#variable:CPACK_WIX_PRODUCT_ICON" title="Link to this definition">¶</a></dt>
<dd><p>The Icon shown next to the program name in Add/Remove programs.</p>
<p>If set, this icon is used in place of the default icon.</p>
</dd></dl>

<dl class="cmake variable">
<dt class="sig sig-object cmake" id="variable:CPACK_WIX_UI_REF">
<span class="sig-name descname"><span class="pre">CPACK_WIX_UI_REF</span></span><a class="headerlink" href="#variable:CPACK_WIX_UI_REF" title="Link to this definition">¶</a></dt>
<dd><p>This variable allows you to override the Id of the <code class="docutils literal notranslate"><span class="pre">&lt;UIRef&gt;</span></code> element
in the WiX template.</p>
<p>The default is <code class="docutils literal notranslate"><span class="pre">WixUI_InstallDir</span></code> in case no CPack components have
been defined and <code class="docutils literal notranslate"><span class="pre">WixUI_FeatureTree</span></code> otherwise.</p>
</dd></dl>

<dl class="cmake variable">
<dt class="sig sig-object cmake" id="variable:CPACK_WIX_UI_BANNER">
<span class="sig-name descname"><span class="pre">CPACK_WIX_UI_BANNER</span></span><a class="headerlink" href="#variable:CPACK_WIX_UI_BANNER" title="Link to this definition">¶</a></dt>
<dd><p>The bitmap will appear at the top of all installer pages other than the
welcome and completion dialogs.</p>
<p>If set, this image will replace the default banner image.</p>
<p>This image must be 493 by 58 pixels.</p>
</dd></dl>

<dl class="cmake variable">
<dt class="sig sig-object cmake" id="variable:CPACK_WIX_UI_DIALOG">
<span class="sig-name descname"><span class="pre">CPACK_WIX_UI_DIALOG</span></span><a class="headerlink" href="#variable:CPACK_WIX_UI_DIALOG" title="Link to this definition">¶</a></dt>
<dd><p>Background bitmap used on the welcome and completion dialogs.</p>
<p>If this variable is set, the installer will replace the default dialog
image.</p>
<p>This image must be 493 by 312 pixels.</p>
</dd></dl>

<dl class="cmake variable">
<dt class="sig sig-object cmake" id="variable:CPACK_WIX_PROGRAM_MENU_FOLDER">
<span class="sig-name descname"><span class="pre">CPACK_WIX_PROGRAM_MENU_FOLDER</span></span><a class="headerlink" href="#variable:CPACK_WIX_PROGRAM_MENU_FOLDER" title="Link to this definition">¶</a></dt>
<dd><p>Start menu folder name for launcher.</p>
<p>If this variable is not set, it will be initialized with CPACK_PACKAGE_NAME</p>
</dd></dl>

<dl class="cmake variable">
<dt class="sig sig-object cmake" id="variable:CPACK_WIX_CULTURES">
<span class="sig-name descname"><span class="pre">CPACK_WIX_CULTURES</span></span><a class="headerlink" href="#variable:CPACK_WIX_CULTURES" title="Link to this definition">¶</a></dt>
<dd><p>Language(s) of the installer</p>
<p>Languages are compiled into the WixUI extension library.  To use them,
simply provide the name of the culture.  If you specify more than one
culture identifier in a comma or semicolon delimited list, the first one
that is found will be used.  You can find a list of supported languages at:
<a class="reference external" href="http://wix.sourceforge.net/manual-wix3/WixUI_localization.htm">http://wix.sourceforge.net/manual-wix3/WixUI_localization.htm</a></p>
</dd></dl>

<dl class="cmake variable">
<dt class="sig sig-object cmake" id="variable:CPACK_WIX_TEMPLATE">
<span class="sig-name descname"><span class="pre">CPACK_WIX_TEMPLATE</span></span><a class="headerlink" href="#variable:CPACK_WIX_TEMPLATE" title="Link to this definition">¶</a></dt>
<dd><p>Template file for WiX generation</p>
<p>If this variable is set, the specified template will be used to generate
the WiX wxs file.  This should be used if further customization of the
output is required.</p>
<p>If this variable is not set, the default MSI template included with CMake
will be used.</p>
</dd></dl>

<dl class="cmake variable">
<dt class="sig sig-object cmake" id="variable:CPACK_WIX_PATCH_FILE">
<span class="sig-name descname"><span class="pre">CPACK_WIX_PATCH_FILE</span></span><a class="headerlink" href="#variable:CPACK_WIX_PATCH_FILE" title="Link to this definition">¶</a></dt>
<dd><p>Optional XML file with fragments to be inserted into generated WiX sources</p>
<p>This optional variable can be used to specify an XML file that the
WiX generator will use to inject fragments into its generated
source files.</p>
<p>Patch files understood by the CPack WiX generator
roughly follow this RELAX NG compact schema:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>start = CPackWiXPatch

CPackWiXPatch = element CPackWiXPatch { CPackWiXFragment* }

CPackWiXFragment = element CPackWiXFragment
{
    attribute Id { string },
    fragmentContent*
}

fragmentContent = element * - CPackWiXFragment
{
    (attribute * { text } | text | fragmentContent)*
}
</pre></div>
</div>
<p>Currently fragments can be injected into most
Component, File and Directory elements.</p>
<p>The following example illustrates how this works.</p>
<p>Given that the WiX generator creates the following XML element:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;Component</span><span class="w"> </span><span class="na">Id=</span><span class="s">&quot;CM_CP_applications.bin.my_libapp.exe&quot;</span><span class="w"> </span><span class="na">Guid=</span><span class="s">&quot;*&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>The following XML patch file may be used to inject an Environment element
into it:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;CPackWiXPatch&gt;</span>
<span class="w">  </span><span class="nt">&lt;CPackWiXFragment</span><span class="w"> </span><span class="na">Id=</span><span class="s">&quot;CM_CP_applications.bin.my_libapp.exe&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;Environment</span><span class="w"> </span><span class="na">Id=</span><span class="s">&quot;MyEnvironment&quot;</span><span class="w"> </span><span class="na">Action=</span><span class="s">&quot;set&quot;</span>
<span class="w">      </span><span class="na">Name=</span><span class="s">&quot;MyVariableName&quot;</span><span class="w"> </span><span class="na">Value=</span><span class="s">&quot;MyVariableValue&quot;</span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;/CPackWiXFragment&gt;</span>
<span class="nt">&lt;/CPackWiXPatch&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="cmake variable">
<dt class="sig sig-object cmake" id="variable:CPACK_WIX_EXTRA_SOURCES">
<span class="sig-name descname"><span class="pre">CPACK_WIX_EXTRA_SOURCES</span></span><a class="headerlink" href="#variable:CPACK_WIX_EXTRA_SOURCES" title="Link to this definition">¶</a></dt>
<dd><p>Extra WiX source files</p>
<p>This variable provides an optional list of extra WiX source files (.wxs)
that should be compiled and linked.  The full path to source files is
required.</p>
</dd></dl>

<dl class="cmake variable">
<dt class="sig sig-object cmake" id="variable:CPACK_WIX_EXTRA_OBJECTS">
<span class="sig-name descname"><span class="pre">CPACK_WIX_EXTRA_OBJECTS</span></span><a class="headerlink" href="#variable:CPACK_WIX_EXTRA_OBJECTS" title="Link to this definition">¶</a></dt>
<dd><p>Extra WiX object files or libraries</p>
<p>This variable provides an optional list of extra WiX object (.wixobj)
and/or WiX library (.wixlib) files.  The full path to objects and libraries
is required.</p>
</dd></dl>

<dl class="cmake variable">
<dt class="sig sig-object cmake" id="variable:CPACK_WIX_EXTENSIONS">
<span class="sig-name descname"><span class="pre">CPACK_WIX_EXTENSIONS</span></span><a class="headerlink" href="#variable:CPACK_WIX_EXTENSIONS" title="Link to this definition">¶</a></dt>
<dd><p>This variable provides a list of additional extensions for the WiX
tools light and candle.</p>
</dd></dl>

<dl class="cmake variable">
<dt class="sig sig-object cmake" id="variable:CPACK_WIX_&lt;TOOL&gt;_EXTENSIONS">
<span class="sig-name descname"><span class="pre">CPACK_WIX_&lt;TOOL&gt;_EXTENSIONS</span></span><a class="headerlink" href="#variable:CPACK_WIX_<TOOL>_EXTENSIONS" title="Link to this definition">¶</a></dt>
<dd><p>This is the tool specific version of CPACK_WIX_EXTENSIONS.
<code class="docutils literal notranslate"><span class="pre">&lt;TOOL&gt;</span></code> can be either LIGHT or CANDLE.</p>
</dd></dl>

<dl class="cmake variable">
<dt class="sig sig-object cmake" id="variable:CPACK_WIX_&lt;TOOL&gt;_EXTRA_FLAGS">
<span class="sig-name descname"><span class="pre">CPACK_WIX_&lt;TOOL&gt;_EXTRA_FLAGS</span></span><a class="headerlink" href="#variable:CPACK_WIX_<TOOL>_EXTRA_FLAGS" title="Link to this definition">¶</a></dt>
<dd><p>This list variable allows you to pass additional
flags to the WiX tool <code class="docutils literal notranslate"><span class="pre">&lt;TOOL&gt;</span></code>.</p>
<p>Use it at your own risk.
Future versions of CPack may generate flags which may be in conflict
with your own flags.</p>
<p><code class="docutils literal notranslate"><span class="pre">&lt;TOOL&gt;</span></code> can be either LIGHT or CANDLE.</p>
</dd></dl>

<dl class="cmake variable">
<dt class="sig sig-object cmake" id="variable:CPACK_WIX_CMAKE_PACKAGE_REGISTRY">
<span class="sig-name descname"><span class="pre">CPACK_WIX_CMAKE_PACKAGE_REGISTRY</span></span><a class="headerlink" href="#variable:CPACK_WIX_CMAKE_PACKAGE_REGISTRY" title="Link to this definition">¶</a></dt>
<dd><p>If this variable is set the generated installer will create
an entry in the windows registry key
<code class="docutils literal notranslate"><span class="pre">HKEY_LOCAL_MACHINE\Software\Kitware\CMake\Packages\&lt;package&gt;</span></code>
The value for <code class="docutils literal notranslate"><span class="pre">&lt;package&gt;</span></code> is provided by this variable.</p>
<p>Assuming you also install a CMake configuration file this will
allow other CMake projects to find your package with
the <span class="target" id="index-0-command:find_package"></span><a class="reference internal" href="../command/find_package.html#command:find_package" title="find_package"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">find_package()</span></code></a> command.</p>
</dd></dl>

</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">目录</a></h3>
    <ul>
<li><a class="reference internal" href="#">CPackWIX</a><ul>
<li><a class="reference internal" href="#variables-specific-to-cpack-wix-generator">Variables specific to CPack WiX generator</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>上一主题</h4>
    <p class="topless"><a href="CPack.html"
                          title="上一章">CPack</a></p>
  </div>
  <div>
    <h4>下一主题</h4>
    <p class="topless"><a href="CTest.html"
                          title="下一章">CTest</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/module/CPackWIX.rst.txt"
            rel="nofollow">显示源代码</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="提交" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="总索引"
             >索引</a></li>
        <li class="right" >
          <a href="CTest.html" title="CTest"
             >下一页</a> |</li>
        <li class="right" >
          <a href="CPack.html" title="CPack"
             >上一页</a> |</li>
        <li>
          <img src="../_static/cmake-logo-16.png" alt=""
              style="vertical-align: middle; margin-top: -2px" />
        </li>
        <li>
          <a href="https://cmake.org/">CMake</a> &#187;
        </li>
        <li>
          <a href="../index.html">Documentation</a> &#187;
        </li>

          <li class="nav-item nav-item-1"><a href="../manual/cmake-modules.7.html" >cmake-modules(7)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">CPackWIX</a></li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
    &#169; 版权所有 2000-2014 Kitware, Inc..
      由 <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3创建。
    </div>
  </body>
</html>